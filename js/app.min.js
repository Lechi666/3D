(()=>{"use strict";let n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}};let t=!1;setTimeout((()=>{if(t){let n=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(n)}))}}),0);let e=-500,i=-100,o=document.getElementsByClassName("frame"),r=Array.from(o),a=[];window.onscroll=function(){let n=document.documentElement.scrollTop,t=i-n;i=n,r.forEach((function(n,i){a.push(i*e+e),a[i]+=-2.5*t;let o=r[i],c=`translateZ(${a[i]}px)`,s=a[i]<Math.abs(e)/1.2?1:0;o.setAttribute("style",`transform: ${c}; opacity: ${s}`)}))},window.scrollTo(0,1),window.FLS=!0,function(n){let t=new Image;t.onload=t.onerror=function(){n(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(n){let t=!0===n?"webp":"no-webp";document.documentElement.classList.add(t)})),n.any()&&document.documentElement.classList.add("touch"),function(){if(document.querySelectorAll("[data-fullscreen]").length&&n.any()){function t(){let n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${n}px`)}window.addEventListener("resize",t),t()}}(),function(){const n=document.querySelectorAll(".rating");n.length>0&&function(){let t,e;for(let t=0;t<n.length;t++){i(n[t])}function i(n){o(n),r(),n.classList.contains("rating_set")&&a(n)}function o(n){t=n.querySelector(".rating__active"),e=n.querySelector(".rating__value")}function r(n=e.innerHTML){const i=n/.05;t.style.width=`${i}%`}function a(n){const t=n.querySelectorAll(".rating__item");for(let i=0;i<t.length;i++){const a=t[i];a.addEventListener("mouseenter",(function(t){o(n),r(a.value)})),a.addEventListener("mouseleave",(function(n){r()})),a.addEventListener("click",(function(t){o(n),n.dataset.ajax?c(a.value,n):(e.innerHTML=i+1,r())}))}}async function c(n,t){if(!t.classList.contains("rating_sending")){t.classList.add("rating_sending");let n=await fetch("rating.json",{method:"GET"});if(n.ok){const i=(await n.json()).newRating;e.innerHTML=i,r(),t.classList.remove("rating_sending")}else alert("Ошибка"),t.classList.remove("rating_sending")}}}()}()})();