(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(n){document.dispatchEvent(t)}))}}),0);let n=-4e3,e=-800,i=document.getElementsByClassName("frame"),o=Array.from(i),s=[];window.onscroll=function(){let t=document.documentElement.scrollTop,i=e-t;e=t,o.forEach((function(t,e){s.push(e*n+n),s[e]+=-2.5*i;let a=o[e],c=`translateZ(${s[e]}px)`,l=s[e]<Math.abs(n)/1.2?1:0;a.setAttribute("style",`transform: ${c}; opacity: ${l}`)}))},window.scrollTo(0,1),window.FLS=!0,function(t){let n=new Image;n.onload=n.onerror=function(){t(2==n.height)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let n=!0===t?"webp":"no-webp";document.documentElement.classList.add(n)})),function(){const t=document.querySelectorAll(".rating");t.length>0&&function(){let n,e;for(let n=0;n<t.length;n++){i(t[n])}function i(t){o(t),s(),t.classList.contains("rating_set")&&a(t)}function o(t){n=t.querySelector(".rating__active"),e=t.querySelector(".rating__value")}function s(t=e.innerHTML){const i=t/.05;n.style.width=`${i}%`}function a(t){const n=t.querySelectorAll(".rating__item");for(let i=0;i<n.length;i++){const a=n[i];a.addEventListener("mouseenter",(function(n){o(t),s(a.value)})),a.addEventListener("mouseleave",(function(t){s()})),a.addEventListener("click",(function(n){o(t),t.dataset.ajax?c(a.value,t):(e.innerHTML=i+1,s())}))}}async function c(t,n){if(!n.classList.contains("rating_sending")){n.classList.add("rating_sending");let t=await fetch("rating.json",{method:"GET"});if(t.ok){const i=(await t.json()).newRating;e.innerHTML=i,s(),n.classList.remove("rating_sending")}else alert("Ошибка"),n.classList.remove("rating_sending")}}}()}()})();